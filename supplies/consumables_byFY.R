consumables <- list(
  "Sample Collection" = list(
    "DNA Stabilizer" = list(
      Name         = "DNA/RNA Shield",
      Link         = "https://www.zymoresearch.com/collections/bulk-reagents/products/dna-rna-shield",
      Price        = 255.60,
      Cat          = "R1100-250",
      Manuf        = "Zymo Research",
      N_units      = 85,
      N_per_prep   = 1
    ),
    "Lysis Collection Tube" = list(
      Name         = "DNA/RNA Shield Lysis Tubes (Microbe)",
      Link         = "https://www.zymoresearch.com/collections/vector-and-environmental-collection/products/dna-rna-shield-lysis-and-collection-tubes",
      Price        = 265.20,
      Cat          = "R1103",
      Manuf        = "Zymo Research",
      N_units      = 50,
      N_per_prep   = 1
    ),
    "Small Sample Collection Tubes" = list(
      Name         = "2mL Sterile Cryogenic Vials",
      Link         = "https://www.heathrowscientific.com/2-ml-cryogenic-vials-sterile/",
      Price        = 256,
      Cat          = "HS23202A",
      Manuf        = "Heathrow Scientific",
      N_units      = 500,
      N_per_prep   = 1
    ),
    "Large Sample Collection Tubes" = list(
      Name         = "5mL Diamond Midicentrifuge Tubes",
      Link         = "https://www.globescientific.com/5ml-diamondr-miditm-centrifuge-tubes-with-screw-cap.html?psku=111580S&cid=0",
      Price        = 132.30,
      Cat          = "111580BRS",
      Manuf        = "Globe Scientific",
      N_units      = 500,
      N_per_prep   = 1
    )
  ),
  "DNA Extraction" = list(
    "Fecal/Soil Kit" = list(
      Name         = "Quick-DNA Fecal/Soil Microbe Miniprep",
      Link         = "https://www.zymoresearch.com/collections/quick-dna-fecal-soil-microbe-kits/products/quick-dna-fecal-sshield",
      Price        = 264.90,
      Cat          = "D6010",
      Manuf        = "Zymo Research",
      N_units      = 50,
      N_per_prep   = 1
    ),
    "Purification Kit" = list(
      Name         = "DNA Clean & Concentrator MagBead Kit",
      Link         = "https://www.zymoresearch.com/collections/dcc-pcr-purification-kits/products/dna-clection/products/dna-rna-shield-lysis-and-collection-tubes",
      Price        = 154.90,
      Cat          = "D4012",
      Manuf        = "Zymo Research",
      N_units      = 100,
      N_per_prep   = 1
    )
  ),
  "Quality Control"   = list(
    "Qubit Assay Tubes" = list(
      Name         = "500 μL thin-walled polypropylene tubes",
      Link         = "https://www.thermofisher.com/order/catalog/product/Q32856",
      Price        = 119,
      Cat          = "Q32856",
      Manuf        = "Invitrogen",
      N_units      = 500,
      N_per_prep   = 1
    ),
    "Qubit Assay Kit" = list(
      Name         = "Qubit 1X dsDNA HS Assay Kit",
      Link         = "https://www.thermofisher.com/order/catalog/product/Q33230",
      Price        = 142,
      Cat          = "Q33230",
      Manuf        = "Invitrogen",
      N_units      = 100,
      N_per_prep   = 1
    )
  ),
  "Library Prep" = list(
    "Kits"     = list(
      "Ligation Sequencing Kit" = list(
        Name         = "Ligation Sequencing Kit",
        Link         = "https://store.nanoporetech.com/us/ligation-sequencing-kit-v14.html",
        Price        = 599,
        Cat          = "SQK-LSK114",
        Manuf        = "ONT",
        N_units      = 6,
        N_per_prep   = 1
      ),
      "16S Barcoding Kit 24" = list(
        Name         = "16S Barcoding Kit 24",
        Link         = "https://store.nanoporetech.com/us/16s-barcoding-kit-24-v14.html",
        Price        = 900,
        Cat          = "SQK-16S114.24",
        Manuf        = "ONT",
        N_units      = 6,
        N_per_prep   = 24
      ),
      "Rapid Barcoding Kit 24" = list(
        Name         = "Rapid Barcoding Kit 24",
        Link         = "https://store.nanoporetech.com/us/rapid-barcoding-sequencing-kit-24-v14.html",
        Price        = 699,
        Cat          = "SQK-RBK114.24",
        Manuf        = "ONT",
        N_units      = 6,
        N_per_prep   = 24
      )
    ),
    "Extras"   = list(
      "Taq Master Mix" = list(
        Name         = "LongAmp Hot Start Taq 2X Master Mix",
        Link         = "https://www.neb.com/en-us/products/m0533-longamp-hot-start-taq-2x-master-mix",
        Price        = 210,
        Cat          = "M0533",
        Manuf        = "NEB",
        N_units      = 100,
        N_per_prep   = 1
      ),
      "Ligation Companion Module" = list(
        Name         = "NEBNext® Companion Module v2",
        Link         = "https://www.neb.com/en-us/products/e7672-nebnext-companion-module-oxford-nanopore-technologies-ligation-sequencing",
        Price        = 752,
        Cat          = "E7672S",
        Manuf        = "NEB",
        N_units      = 24,
        N_per_prep   = 1
      ),
      "Endonuclease" = list(
        Name         = "T7 Endonuclease I",
        Link         = "https://www.neb.com/en-us/products/m0302-t7-endonuclease-i",
        Price        = 80,
        Cat          = "M0302",
        Manuf        = "NEB",
        N_units      = 250,
        N_per_prep   = 1
      ),
      "Blunt/TA Ligase" = list(
        Name         = "Blunt/TA Ligase",
        Link         = "https://www.neb.com/en-us/products/m0367-blunt-ta-ligase-master-mix",
        Price        = 115,
        Cat          = "M0367",
        Manuf        = "NEB",
        N_units      = 50,
        N_per_prep   = 1
      ),
      "MDA Amplification Kit" = list(
        Name         = "REPLI-g UltraFast Mini Kit",
        Link         = "https://www.qiagen.com/us/products/discovery-and-translational-research/pcr-qpcr-dpcr/preamplification/repli-g-kits?catno=150035",
        Price        = 1056,
        Cat          = "150035",
        Manuf        = "Qiagen",
        N_units      = 100,
        N_per_prep   = 1
      )
    ),
    "Plastics" = list(
      "PCR Tubes" = list(
        Name         = "8-strip PCR Tubes with caps attached",
        Link         = "https://pipette.com/mtc-bio-p3010-a.html?Category_Code=pcr-tubes",
        Price        = 70.80,
        Cat          = "P3010-A",
        Manuf        = "MTC-Bio",
        N_units      = 960,
        N_per_prep   = 3
      ),
      "Microfuge Tubes" = list(
        Name         = "1.5mL DNase-free Microfuge Tubes",
        Link         = "https://www.zymoresearch.com/collections/tubes/products/dnase-rnase-free-tubes",
        Price        = 16.40,
        Cat          = "C2001-100",
        Manuf        = "Zymo Research",
        N_units      = 100,
        N_per_prep   = 3
      )
    )
  ),
  "DNA Sequencing"    = list(
    "Flow Cells" = list(
      Name         = "MinION Flow Cells",
      Link         = "https://store.nanoporetech.com/us/flow-cell-r10-4-1-2025.html",
      Price        = 800,
      Cat          = "FLO-MIN114",
      Manuf        = "ONT",
      N_units      = 4,
      N_per_prep   = 24
    )
  ),
  "General"        = list(
    "Reagents" = list(
      "Ethanol" = list(
        Name         = "Molecular Grade Ethanol",
        Link         = "https://www.thermofisher.com/order/catalog/product/T038181000",
        Price        = 176,
        Cat          = "T038181000",
        Manuf        = "Thermo Scientific™",
        N_units      = 1000,
        N_per_prep   = 1
      )
    ),
    "Tips"   = list(
      "1000 ul" = list(
          Name         = "Sterile, Filtered Tips (p1000)",
          Link         = "https://pipette.com/oxford-lab-products-oar-1000xl-slf.html",
          Price        = 56.25,
          Cat          = "OAR-1000XL-SLF",
          Manuf        = "Oxford Lab Products",
          N_units      = 960,
          N_per_prep   = 100
      ),
      "200 ul"  = list(
        Name         = "Sterile, Filtered Tips (p200)",
        Link         = "https://pipette.com/oxford-lab-products-pipette-controllers-xr-200-slfc.html",
        Price        = 260.80,
        Cat          = "XR-200-SLFC",
        Manuf        = "Oxford Lab Products",
        N_units      = 4800,
        N_per_prep   = 100
        ),
      "10 ul"   = list(
        Name         = "Sterile, Filtered Tips (p10)",
        Link         = "https://pipette.com/oxford-lab-products-xr-10n-slf.html",
        Price        = 57.56,
        Cat          = "XR-10N-SLF",
        Manuf        = "Oxford Lab Products",
        N_units      = 960,
        N_per_prep   = 100
        )
      )
    )
  )

consumables.tbl <- modify_at(consumables, 
                             c("Library Prep",
                               "General"), \(x) list_flatten(x,
                                                             name_spec = "{inner}")) %>%
  enframe(., name = "Purpose") %>% 
  unnest_longer(value, indices_to = "Supply") %>%
  unnest_wider(value) %>%
  mutate(Category = "Consumables")


